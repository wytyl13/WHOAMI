nohup: ignoring input
INFO:     Started server process [3797621]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9999 (Press CTRL+C to quit)
[32m[2024-12-22 20:10:14] [INFO    ] [warning_fastapi] - {'name': 'SxVideoStreamDetector', 'detector_warning': {'name': 'SxDetectorWarning', 'config_path': '/work/ai/WHOAMI/whoami/tool/detect/default_config.yaml', 'pre_warning_time': None, 'warning_gap': 9.0, 'warning_infomation': None, 'url_str_flag': 'new', 'device_sn': 'BD3202818', 'stream_url': None, 'topic_name': '/fallen/falling/warning'}, 'device_sn': 'BD3202818', 'detector': {'name': 'UltraliticsDetector', 'model_path': '/work/ai/WHOAMI/whoami/models/detect/falldetect-11x.pt', 'class_list': [0], 'conf': 0.88}, 'stream_url': None, 'config_path': '/work/ai/WHOAMI/whoami/tool/detect/default_config.yaml', 'sql_connection': sessionmaker(class_='Session', bind=Engine(mysql+mysqlconnector://root:***@39.105.172.211:3366/shunxikeji), autoflush=True, expire_on_commit=True), 'topic_name': '/fallen/falling/warning', 'url_str_flag': 'new'}[0m
[32m[2024-12-22 20:10:14] [INFO    ] [warning_fastapi] - topic_list: ['/fallen/falling/warning?Ë∑åÂÄíÈ¢ÑË≠¶', '/fire/smoke/warning?ÁÉüÁÅ´È¢ÑË≠¶'][0m
[32m[2024-12-22 20:10:14] [INFO    ] [warning_fastapi] - real_topic_list: [][0m
[32m[2024-12-22 20:10:14] [INFO    ] [warning_fastapi] - del_topic: [][0m
[32m[2024-12-22 20:10:14] [INFO    ] [warning_fastapi] - need to open topic list: ['/fire/smoke/warning?ÁÉüÁÅ´È¢ÑË≠¶', '/fallen/falling/warning?Ë∑åÂÄíÈ¢ÑË≠¶'][0m
Exception in thread Thread-1 (background_run):
Traceback (most recent call last):
  File "/work/soft/miniconda3/envs/detect/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
  File "/work/soft/miniconda3/envs/detect/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
  File "/work/ai/WHOAMI/whoami/scripts/detect/scripts.py", line 57, in background_run
    return sx_video_stream_detector.process()
  File "/work/ai/WHOAMI/whoami/tool/detect/video_stream_detector.py", line 310, in process
    self.stream_url = self.stream_url if self.stream_url else self.get_video_stream_url()
  File "/work/ai/WHOAMI/whoami/tool/detect/sx_video_stream_detector.py", line 258, in get_video_stream_url
    self.logger.info(f"request_json: {request_json}")
AttributeError: 'Logger' object has no attribute 'info'
Exception in thread Thread-2 (background_run):
------------------ÂºÄÂêØ‰ªªÂä°Ôºö/fire/smoke/warning
------------------ÂºÄÂêØ‰ªªÂä°Ôºö/fallen/falling/warning
INFO:     38.61.13.62:46709 - "POST /fire_smoke_warning HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/work/soft/miniconda3/envs/detect/lib/python3.10/threading.py", line 1016, in _bootstrap_inner
    self.run()
  File "/work/soft/miniconda3/envs/detect/lib/python3.10/threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
  File "/work/ai/WHOAMI/whoami/scripts/detect/scripts.py", line 57, in background_run
    return sx_video_stream_detector.process()
  File "/work/ai/WHOAMI/whoami/tool/detect/video_stream_detector.py", line 310, in process
    self.stream_url = self.stream_url if self.stream_url else self.get_video_stream_url()
  File "/work/ai/WHOAMI/whoami/tool/detect/sx_video_stream_detector.py", line 258, in get_video_stream_url
    self.logger.info(f"request_json: {request_json}")
AttributeError: 'Logger' object has no attribute 'info'
WARNING:  Invalid HTTP request received.
